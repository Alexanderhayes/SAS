data consume2004;
	input area$ x1-x8;
	label area="Area" x1='I' x2='II' x3='III' x4='IV' x5='V' x6='VI' x7='VII' x8='VIII';
datalines;
A 1495.09 308.85 746.04 227.27 507.55 512.23 743.72 76.18
B 1017.72 181.21 508.06 108.51 177.10 230.41 376.87 42.23
C 780.09 127.06 340.88 80.42 115.97 176.60 182.56 31.33
D 748.90 171.69 179.22 59.27 84.20 130.00 235.01 28.17
E 889.05 133.54 266.43 69.91 154.51 241.90 291.98 35.25
F 962.00 154.97 290.08 72.58 145.19 186.77 217.95 43.42
G 899.00 133.54 216.82 62.08 161.16 214.97 237.34 46.31
H 750.57 123.87 388.87 49.87 131.04 175.85 188.51 28.78
I 2191.15 279.73 1446.15 344.41 424.55 720.37 805.56 116.94
J 1317.88 163.53 467.62 141.43 163.16 293.07 373.39 72.47
K 1838.57 258.58 798.88 242.09 326.12 496.86 597.96 100.05
L 861.34 86.87 299.82 75.97 91.95 163.93 199.95 33.88
M 1408.54 159.60 430.14 154.44 136.40 306.06 313.09 107.32
N 1125.13 107.19 234.69 66.89 110.32 171.89 237.28 42.10
O 1000.13 139.18 365.97 110.12 155.85 221.93 298.23 97.85
P 808.27 108.08 268.72 63.68 95.22 121.17 168.04 30.91
Q 1076.35 93.52 274.10 75.11 110.73 162.65 245.68 50.85
R 1338.65 112.38 293.23 92.37 124.12 174.53 279.96 57.05
S 1581.68 116.83 494.89 131.17 153.17 350.27 314.34 98.44
T 1047.58 64.42 311.48 64.87 83.64 140.13 178.83 37.65
U 1027.90 58.96 134.00 83.16 86.57 133.77 164.42 56.59
V 1039.00 79.08 201.03 74.81 115.31 119.68 198.65 26.38
W 1123.18 92.87 234.31 79.15 117.40 127.60 209.68 31.54
X 754.39 55.63 165.95 41.48 47.19 70.41 140.21 21.07
Y 848.30 61.87 239.29 61.78 87.66 105.52 143.20 23.42
Z 941.08 157.87 118.55 75.55 28.93 89.16 37.84 21.72
AA 686.38 91.78 237.32 65.46 118.12 126.13 258.83 34.04
AB 703.41 82.33 179.86 58.91 85.33 130.22 202.64 21.64
AC 813.35 121.83 233.16 65.48 126.60 176.41 108.14 31.48
AD 808.54 122.50 325.21 65.30 186.90 155.26 217.06 46.05
AE 763.43 138.88 304.81 56.03 141.97 131.59 126.92 26.28
;
run;
proc fastclus data=consume2004 maxclusters=5 radius=0 replace=full out=fast_out outiter outseed=fast_seed 
				maxiter=50 converge=0.001 drift distance;
	var x1-x8;
	id area;
run;
proc sort data=fast_out out=out(keep=area CLUSTER);
	by CLUSTER;
run;

proc print;run;

ods graphics on;
proc cluster data=consume2004 method=ward std rsquare pseudo outtree=ave_tree;
	var x1-x8;
	id area;
run;
ods graphics off;


proc tree data=ave_tree out=result ncl=5 horizontal;
	copy x1-x8;
run;
proc print;run;

proc sort data=result;
	by cluster;
run;

proc means data=result noprint;
	var x1-x8;
	by cluster;
	output out=clus_mean mean=x1 x2 x3 x4 x5 x6 x7 x8;
data clus_mean;
	set clus_mean;
	sum=sum(x1,x2,x3,x4,x5,x6,x7,x8);
	label sum='SUM';
	format x1-x8 sum 8.2;
run;


 proc varclus data=consume2004;
   run;
proc print;run;

%let a=%sysfunc(getoption(work));
%put &a;
